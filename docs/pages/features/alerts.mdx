---
title: Alerts
---

When a delivery attempt fails to deliver an event to a destination, an alert can be triggered. Alerts are scoped per destination.

Alerts can serve to notify the owner of the destination of the failure and to optionally auto-disable the destination using the `ALERT_AUTO_DISABLE_DESTINATION` config.

Instead of implementing user-facing alerting, alerts are produced on a callback URL configured through the `ALERT_CALLBACK_URL` variable. If the server does not respond with a `200`, there will be an exponential backoff, and the failure will be logged. Authentication is handled using the Admin API Key via a bearer token.

It's your responsibility to format and deliver the alert to your tenant using your existing notification system.

## Consecutive failure alerts

The `ALERT_CONSECUTIVE_FAILURE_COUNT` variable triggers an `alert.destination.consecutive_failure` alert when the consecutive failure count reaches 50%, 70%, 90%, and 100% of the configured threshold. At 100%, the destination will be disabled if `ALERT_AUTO_DISABLE_DESTINATION` is enabled.

```json
{
  "topic": "alert.destination.consecutive_failure",
  "timestamp": "2025-01-15T10:30:00Z",
  "data": {
    "tenant_id": "tenant_123",
    "event": { ... },
    "attempt": { ... },
    "consecutive_failures": {
      "current": 10,
      "max": 20,
      "threshold": 50
    },
    "destination": {
      "id": "dest_xyz",
      "tenant_id": "tenant_123",
      "type": "webhook",
      "topics": ["*"],
      "filter": {},
      "config": {},
      "metadata": {},
      "created_at": "2025-01-01T00:00:00Z",
      "updated_at": "2025-01-01T00:00:00Z",
      "disabled_at": null
    }
  }
}
```

The `destination` object in alert payloads does not include `credentials` or `delivery_metadata` to avoid exposing sensitive information.

When the threshold reaches 100% and the destination is auto-disabled, `destination.disabled_at` will be set in the payload reflecting the post-disable state.

## Destination disabled alerts

When a destination is auto-disabled after reaching the consecutive failure threshold, an `alert.destination.disabled` alert is sent. When both alerts are triggered, the disabled alert is sent first, but ordering is not guaranteed.

```json
{
  "topic": "alert.destination.disabled",
  "timestamp": "2025-01-15T10:30:00Z",
  "data": {
    "tenant_id": "tenant_123",
    "disabled_at": "2025-01-15T10:30:00Z",
    "reason": "consecutive_failure",
    "event": { ... },
    "attempt": { ... },
    "destination": {
      "id": "dest_xyz",
      "tenant_id": "tenant_123",
      "type": "webhook",
      "topics": ["*"],
      "filter": {},
      "config": {},
      "metadata": {},
      "created_at": "2025-01-01T00:00:00Z",
      "updated_at": "2025-01-15T10:30:00Z",
      "disabled_at": "2025-01-15T10:30:00Z"
    }
  }
}
```
