/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { eventsGet } from "../funcs/eventsGet.js";
import { eventsGetByDestination } from "../funcs/eventsGetByDestination.js";
import { eventsList } from "../funcs/eventsList.js";
import { eventsListByDestination } from "../funcs/eventsListByDestination.js";
import { eventsListDeliveries } from "../funcs/eventsListDeliveries.js";
import { eventsRetry } from "../funcs/eventsRetry.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as components from "../models/components/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";
import { PageIterator, unwrapResultIterator } from "../types/operations.js";

export class Events extends ClientSDK {
  /**
   * List Events
   *
   * @remarks
   * Retrieves a list of events for the tenant, supporting cursor navigation (details TBD) and filtering.
   */
  async list(
    request: operations.ListTenantEventsRequest,
    options?: RequestOptions,
  ): Promise<
    PageIterator<operations.ListTenantEventsResponse, { cursor: string }>
  > {
    return unwrapResultIterator(eventsList(
      this,
      request,
      options,
    ));
  }

  /**
   * Get Event
   *
   * @remarks
   * Retrieves details for a specific event.
   */
  async get(
    request: operations.GetTenantEventRequest,
    options?: RequestOptions,
  ): Promise<components.Event> {
    return unwrapAsync(eventsGet(
      this,
      request,
      options,
    ));
  }

  /**
   * List Event Delivery Attempts
   *
   * @remarks
   * Retrieves a list of delivery attempts for a specific event, including response details.
   */
  async listDeliveries(
    request: operations.ListTenantEventDeliveriesRequest,
    options?: RequestOptions,
  ): Promise<Array<components.DeliveryAttempt>> {
    return unwrapAsync(eventsListDeliveries(
      this,
      request,
      options,
    ));
  }

  /**
   * List Events by Destination
   *
   * @remarks
   * Retrieves events associated with a specific destination for the tenant.
   */
  async listByDestination(
    request: operations.ListTenantEventsByDestinationRequest,
    options?: RequestOptions,
  ): Promise<
    PageIterator<
      operations.ListTenantEventsByDestinationResponse,
      { cursor: string }
    >
  > {
    return unwrapResultIterator(eventsListByDestination(
      this,
      request,
      options,
    ));
  }

  /**
   * Get Event by Destination
   *
   * @remarks
   * Retrieves a specific event associated with a specific destination for the tenant.
   */
  async getByDestination(
    request: operations.GetTenantEventByDestinationRequest,
    options?: RequestOptions,
  ): Promise<components.Event> {
    return unwrapAsync(eventsGetByDestination(
      this,
      request,
      options,
    ));
  }

  /**
   * Retry Event Delivery
   *
   * @remarks
   * Triggers a retry for a failed event delivery.
   */
  async retry(
    request: operations.RetryTenantEventRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(eventsRetry(
      this,
      request,
      options,
    ));
  }
}
