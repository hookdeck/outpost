// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/hookdeck/outpost/sdks/outpost-go/internal/utils"
	"github.com/hookdeck/outpost/sdks/outpost-go/models/components"
	"time"
)

type AdminListEventsTopicType string

const (
	AdminListEventsTopicTypeStr        AdminListEventsTopicType = "str"
	AdminListEventsTopicTypeArrayOfStr AdminListEventsTopicType = "arrayOfStr"
)

// AdminListEventsTopic - Filter events by topic(s). Can be specified multiple times or comma-separated.
type AdminListEventsTopic struct {
	Str        *string  `queryParam:"inline" union:"member"`
	ArrayOfStr []string `queryParam:"inline" union:"member"`

	Type AdminListEventsTopicType
}

func CreateAdminListEventsTopicStr(str string) AdminListEventsTopic {
	typ := AdminListEventsTopicTypeStr

	return AdminListEventsTopic{
		Str:  &str,
		Type: typ,
	}
}

func CreateAdminListEventsTopicArrayOfStr(arrayOfStr []string) AdminListEventsTopic {
	typ := AdminListEventsTopicTypeArrayOfStr

	return AdminListEventsTopic{
		ArrayOfStr: arrayOfStr,
		Type:       typ,
	}
}

func (u *AdminListEventsTopic) UnmarshalJSON(data []byte) error {

	var str string = ""
	if err := utils.UnmarshalJSON(data, &str, "", true, nil); err == nil {
		u.Str = &str
		u.Type = AdminListEventsTopicTypeStr
		return nil
	}

	var arrayOfStr []string = []string{}
	if err := utils.UnmarshalJSON(data, &arrayOfStr, "", true, nil); err == nil {
		u.ArrayOfStr = arrayOfStr
		u.Type = AdminListEventsTopicTypeArrayOfStr
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for AdminListEventsTopic", string(data))
}

func (u AdminListEventsTopic) MarshalJSON() ([]byte, error) {
	if u.Str != nil {
		return utils.MarshalJSON(u.Str, "", true)
	}

	if u.ArrayOfStr != nil {
		return utils.MarshalJSON(u.ArrayOfStr, "", true)
	}

	return nil, errors.New("could not marshal union type AdminListEventsTopic: all fields are null")
}

// AdminListEventsOrderBy - Field to sort by.
type AdminListEventsOrderBy string

const (
	AdminListEventsOrderByTime AdminListEventsOrderBy = "time"
)

func (e AdminListEventsOrderBy) ToPointer() *AdminListEventsOrderBy {
	return &e
}
func (e *AdminListEventsOrderBy) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "time":
		*e = AdminListEventsOrderBy(v)
		return nil
	default:
		return fmt.Errorf("invalid value for AdminListEventsOrderBy: %v", v)
	}
}

// AdminListEventsDir - Sort direction.
type AdminListEventsDir string

const (
	AdminListEventsDirAsc  AdminListEventsDir = "asc"
	AdminListEventsDirDesc AdminListEventsDir = "desc"
)

func (e AdminListEventsDir) ToPointer() *AdminListEventsDir {
	return &e
}
func (e *AdminListEventsDir) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "asc":
		fallthrough
	case "desc":
		*e = AdminListEventsDir(v)
		return nil
	default:
		return fmt.Errorf("invalid value for AdminListEventsDir: %v", v)
	}
}

type AdminListEventsRequest struct {
	// Filter events by tenant ID. If not provided, returns events from all tenants.
	TenantID *string `queryParam:"style=form,explode=true,name=tenant_id"`
	// Filter events by topic(s). Can be specified multiple times or comma-separated.
	Topic *AdminListEventsTopic `queryParam:"style=form,explode=true,name=topic"`
	// Filter events with time >= value (RFC3339 or YYYY-MM-DD format).
	TimeGte *time.Time `queryParam:"style=form,explode=true,name=time[gte]"`
	// Filter events with time <= value (RFC3339 or YYYY-MM-DD format).
	TimeLte *time.Time `queryParam:"style=form,explode=true,name=time[lte]"`
	// Number of items per page (default 100, max 1000).
	Limit *int64 `default:"100" queryParam:"style=form,explode=true,name=limit"`
	// Cursor for next page of results.
	Next *string `queryParam:"style=form,explode=true,name=next"`
	// Cursor for previous page of results.
	Prev *string `queryParam:"style=form,explode=true,name=prev"`
	// Field to sort by.
	OrderBy *AdminListEventsOrderBy `default:"time" queryParam:"style=form,explode=true,name=order_by"`
	// Sort direction.
	Dir *AdminListEventsDir `default:"desc" queryParam:"style=form,explode=true,name=dir"`
}

func (a AdminListEventsRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(a, "", false)
}

func (a *AdminListEventsRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &a, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (a *AdminListEventsRequest) GetTenantID() *string {
	if a == nil {
		return nil
	}
	return a.TenantID
}

func (a *AdminListEventsRequest) GetTopic() *AdminListEventsTopic {
	if a == nil {
		return nil
	}
	return a.Topic
}

func (a *AdminListEventsRequest) GetTimeGte() *time.Time {
	if a == nil {
		return nil
	}
	return a.TimeGte
}

func (a *AdminListEventsRequest) GetTimeLte() *time.Time {
	if a == nil {
		return nil
	}
	return a.TimeLte
}

func (a *AdminListEventsRequest) GetLimit() *int64 {
	if a == nil {
		return nil
	}
	return a.Limit
}

func (a *AdminListEventsRequest) GetNext() *string {
	if a == nil {
		return nil
	}
	return a.Next
}

func (a *AdminListEventsRequest) GetPrev() *string {
	if a == nil {
		return nil
	}
	return a.Prev
}

func (a *AdminListEventsRequest) GetOrderBy() *AdminListEventsOrderBy {
	if a == nil {
		return nil
	}
	return a.OrderBy
}

func (a *AdminListEventsRequest) GetDir() *AdminListEventsDir {
	if a == nil {
		return nil
	}
	return a.Dir
}

type AdminListEventsResponse struct {
	HTTPMeta components.HTTPMetadata `json:"-"`
	// A paginated list of events.
	EventPaginatedResult *components.EventPaginatedResult
}

func (a *AdminListEventsResponse) GetHTTPMeta() components.HTTPMetadata {
	if a == nil {
		return components.HTTPMetadata{}
	}
	return a.HTTPMeta
}

func (a *AdminListEventsResponse) GetEventPaginatedResult() *components.EventPaginatedResult {
	if a == nil {
		return nil
	}
	return a.EventPaginatedResult
}
