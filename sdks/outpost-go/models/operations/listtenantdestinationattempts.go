// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/hookdeck/outpost/sdks/outpost-go/internal/utils"
	"github.com/hookdeck/outpost/sdks/outpost-go/models/components"
	"time"
)

type ListTenantDestinationAttemptsGlobals struct {
	TenantID *string `pathParam:"style=simple,explode=false,name=tenant_id"`
}

func (l *ListTenantDestinationAttemptsGlobals) GetTenantID() *string {
	if l == nil {
		return nil
	}
	return l.TenantID
}

// ListTenantDestinationAttemptsStatus - Filter attempts by status.
type ListTenantDestinationAttemptsStatus string

const (
	ListTenantDestinationAttemptsStatusSuccess ListTenantDestinationAttemptsStatus = "success"
	ListTenantDestinationAttemptsStatusFailed  ListTenantDestinationAttemptsStatus = "failed"
)

func (e ListTenantDestinationAttemptsStatus) ToPointer() *ListTenantDestinationAttemptsStatus {
	return &e
}
func (e *ListTenantDestinationAttemptsStatus) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "success":
		fallthrough
	case "failed":
		*e = ListTenantDestinationAttemptsStatus(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ListTenantDestinationAttemptsStatus: %v", v)
	}
}

type ListTenantDestinationAttemptsTopicType string

const (
	ListTenantDestinationAttemptsTopicTypeStr        ListTenantDestinationAttemptsTopicType = "str"
	ListTenantDestinationAttemptsTopicTypeArrayOfStr ListTenantDestinationAttemptsTopicType = "arrayOfStr"
)

// ListTenantDestinationAttemptsTopic - Filter attempts by event topic(s). Can be specified multiple times or comma-separated.
type ListTenantDestinationAttemptsTopic struct {
	Str        *string  `queryParam:"inline" union:"member"`
	ArrayOfStr []string `queryParam:"inline" union:"member"`

	Type ListTenantDestinationAttemptsTopicType
}

func CreateListTenantDestinationAttemptsTopicStr(str string) ListTenantDestinationAttemptsTopic {
	typ := ListTenantDestinationAttemptsTopicTypeStr

	return ListTenantDestinationAttemptsTopic{
		Str:  &str,
		Type: typ,
	}
}

func CreateListTenantDestinationAttemptsTopicArrayOfStr(arrayOfStr []string) ListTenantDestinationAttemptsTopic {
	typ := ListTenantDestinationAttemptsTopicTypeArrayOfStr

	return ListTenantDestinationAttemptsTopic{
		ArrayOfStr: arrayOfStr,
		Type:       typ,
	}
}

func (u *ListTenantDestinationAttemptsTopic) UnmarshalJSON(data []byte) error {

	var str string = ""
	if err := utils.UnmarshalJSON(data, &str, "", true, nil); err == nil {
		u.Str = &str
		u.Type = ListTenantDestinationAttemptsTopicTypeStr
		return nil
	}

	var arrayOfStr []string = []string{}
	if err := utils.UnmarshalJSON(data, &arrayOfStr, "", true, nil); err == nil {
		u.ArrayOfStr = arrayOfStr
		u.Type = ListTenantDestinationAttemptsTopicTypeArrayOfStr
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for ListTenantDestinationAttemptsTopic", string(data))
}

func (u ListTenantDestinationAttemptsTopic) MarshalJSON() ([]byte, error) {
	if u.Str != nil {
		return utils.MarshalJSON(u.Str, "", true)
	}

	if u.ArrayOfStr != nil {
		return utils.MarshalJSON(u.ArrayOfStr, "", true)
	}

	return nil, errors.New("could not marshal union type ListTenantDestinationAttemptsTopic: all fields are null")
}

type ListTenantDestinationAttemptsIncludeType string

const (
	ListTenantDestinationAttemptsIncludeTypeStr        ListTenantDestinationAttemptsIncludeType = "str"
	ListTenantDestinationAttemptsIncludeTypeArrayOfStr ListTenantDestinationAttemptsIncludeType = "arrayOfStr"
)

// ListTenantDestinationAttemptsInclude - Fields to include in the response. Can be specified multiple times or comma-separated.
// - `event`: Include event summary (id, topic, time, eligible_for_retry, metadata)
// - `event.data`: Include full event with payload data
// - `response_data`: Include response body and headers
type ListTenantDestinationAttemptsInclude struct {
	Str        *string  `queryParam:"inline" union:"member"`
	ArrayOfStr []string `queryParam:"inline" union:"member"`

	Type ListTenantDestinationAttemptsIncludeType
}

func CreateListTenantDestinationAttemptsIncludeStr(str string) ListTenantDestinationAttemptsInclude {
	typ := ListTenantDestinationAttemptsIncludeTypeStr

	return ListTenantDestinationAttemptsInclude{
		Str:  &str,
		Type: typ,
	}
}

func CreateListTenantDestinationAttemptsIncludeArrayOfStr(arrayOfStr []string) ListTenantDestinationAttemptsInclude {
	typ := ListTenantDestinationAttemptsIncludeTypeArrayOfStr

	return ListTenantDestinationAttemptsInclude{
		ArrayOfStr: arrayOfStr,
		Type:       typ,
	}
}

func (u *ListTenantDestinationAttemptsInclude) UnmarshalJSON(data []byte) error {

	var str string = ""
	if err := utils.UnmarshalJSON(data, &str, "", true, nil); err == nil {
		u.Str = &str
		u.Type = ListTenantDestinationAttemptsIncludeTypeStr
		return nil
	}

	var arrayOfStr []string = []string{}
	if err := utils.UnmarshalJSON(data, &arrayOfStr, "", true, nil); err == nil {
		u.ArrayOfStr = arrayOfStr
		u.Type = ListTenantDestinationAttemptsIncludeTypeArrayOfStr
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for ListTenantDestinationAttemptsInclude", string(data))
}

func (u ListTenantDestinationAttemptsInclude) MarshalJSON() ([]byte, error) {
	if u.Str != nil {
		return utils.MarshalJSON(u.Str, "", true)
	}

	if u.ArrayOfStr != nil {
		return utils.MarshalJSON(u.ArrayOfStr, "", true)
	}

	return nil, errors.New("could not marshal union type ListTenantDestinationAttemptsInclude: all fields are null")
}

// ListTenantDestinationAttemptsOrderBy - Field to sort by.
type ListTenantDestinationAttemptsOrderBy string

const (
	ListTenantDestinationAttemptsOrderByTime ListTenantDestinationAttemptsOrderBy = "time"
)

func (e ListTenantDestinationAttemptsOrderBy) ToPointer() *ListTenantDestinationAttemptsOrderBy {
	return &e
}
func (e *ListTenantDestinationAttemptsOrderBy) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "time":
		*e = ListTenantDestinationAttemptsOrderBy(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ListTenantDestinationAttemptsOrderBy: %v", v)
	}
}

// ListTenantDestinationAttemptsDir - Sort direction.
type ListTenantDestinationAttemptsDir string

const (
	ListTenantDestinationAttemptsDirAsc  ListTenantDestinationAttemptsDir = "asc"
	ListTenantDestinationAttemptsDirDesc ListTenantDestinationAttemptsDir = "desc"
)

func (e ListTenantDestinationAttemptsDir) ToPointer() *ListTenantDestinationAttemptsDir {
	return &e
}
func (e *ListTenantDestinationAttemptsDir) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "asc":
		fallthrough
	case "desc":
		*e = ListTenantDestinationAttemptsDir(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ListTenantDestinationAttemptsDir: %v", v)
	}
}

type ListTenantDestinationAttemptsRequest struct {
	// The ID of the tenant. Required when using AdminApiKey authentication.
	TenantID *string `pathParam:"style=simple,explode=false,name=tenant_id"`
	// The ID of the destination.
	DestinationID string `pathParam:"style=simple,explode=false,name=destination_id"`
	// Filter attempts by event ID.
	EventID *string `queryParam:"style=form,explode=true,name=event_id"`
	// Filter attempts by status.
	Status *ListTenantDestinationAttemptsStatus `queryParam:"style=form,explode=true,name=status"`
	// Filter attempts by event topic(s). Can be specified multiple times or comma-separated.
	Topic *ListTenantDestinationAttemptsTopic `queryParam:"style=form,explode=true,name=topic"`
	// Filter attempts by event time >= value (RFC3339 or YYYY-MM-DD format).
	TimeGte *time.Time `queryParam:"style=form,explode=true,name=time[gte]"`
	// Filter attempts by event time <= value (RFC3339 or YYYY-MM-DD format).
	TimeLte *time.Time `queryParam:"style=form,explode=true,name=time[lte]"`
	// Number of items per page (default 100, max 1000).
	Limit *int64 `default:"100" queryParam:"style=form,explode=true,name=limit"`
	// Cursor for next page of results.
	Next *string `queryParam:"style=form,explode=true,name=next"`
	// Cursor for previous page of results.
	Prev *string `queryParam:"style=form,explode=true,name=prev"`
	// Fields to include in the response. Can be specified multiple times or comma-separated.
	// - `event`: Include event summary (id, topic, time, eligible_for_retry, metadata)
	// - `event.data`: Include full event with payload data
	// - `response_data`: Include response body and headers
	//
	Include *ListTenantDestinationAttemptsInclude `queryParam:"style=form,explode=true,name=include"`
	// Field to sort by.
	OrderBy *ListTenantDestinationAttemptsOrderBy `default:"time" queryParam:"style=form,explode=true,name=order_by"`
	// Sort direction.
	Dir *ListTenantDestinationAttemptsDir `default:"desc" queryParam:"style=form,explode=true,name=dir"`
}

func (l ListTenantDestinationAttemptsRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(l, "", false)
}

func (l *ListTenantDestinationAttemptsRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &l, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (l *ListTenantDestinationAttemptsRequest) GetTenantID() *string {
	if l == nil {
		return nil
	}
	return l.TenantID
}

func (l *ListTenantDestinationAttemptsRequest) GetDestinationID() string {
	if l == nil {
		return ""
	}
	return l.DestinationID
}

func (l *ListTenantDestinationAttemptsRequest) GetEventID() *string {
	if l == nil {
		return nil
	}
	return l.EventID
}

func (l *ListTenantDestinationAttemptsRequest) GetStatus() *ListTenantDestinationAttemptsStatus {
	if l == nil {
		return nil
	}
	return l.Status
}

func (l *ListTenantDestinationAttemptsRequest) GetTopic() *ListTenantDestinationAttemptsTopic {
	if l == nil {
		return nil
	}
	return l.Topic
}

func (l *ListTenantDestinationAttemptsRequest) GetTimeGte() *time.Time {
	if l == nil {
		return nil
	}
	return l.TimeGte
}

func (l *ListTenantDestinationAttemptsRequest) GetTimeLte() *time.Time {
	if l == nil {
		return nil
	}
	return l.TimeLte
}

func (l *ListTenantDestinationAttemptsRequest) GetLimit() *int64 {
	if l == nil {
		return nil
	}
	return l.Limit
}

func (l *ListTenantDestinationAttemptsRequest) GetNext() *string {
	if l == nil {
		return nil
	}
	return l.Next
}

func (l *ListTenantDestinationAttemptsRequest) GetPrev() *string {
	if l == nil {
		return nil
	}
	return l.Prev
}

func (l *ListTenantDestinationAttemptsRequest) GetInclude() *ListTenantDestinationAttemptsInclude {
	if l == nil {
		return nil
	}
	return l.Include
}

func (l *ListTenantDestinationAttemptsRequest) GetOrderBy() *ListTenantDestinationAttemptsOrderBy {
	if l == nil {
		return nil
	}
	return l.OrderBy
}

func (l *ListTenantDestinationAttemptsRequest) GetDir() *ListTenantDestinationAttemptsDir {
	if l == nil {
		return nil
	}
	return l.Dir
}

type ListTenantDestinationAttemptsResponse struct {
	HTTPMeta components.HTTPMetadata `json:"-"`
	// A paginated list of attempts for the destination.
	AttemptPaginatedResult *components.AttemptPaginatedResult
}

func (l *ListTenantDestinationAttemptsResponse) GetHTTPMeta() components.HTTPMetadata {
	if l == nil {
		return components.HTTPMetadata{}
	}
	return l.HTTPMeta
}

func (l *ListTenantDestinationAttemptsResponse) GetAttemptPaginatedResult() *components.AttemptPaginatedResult {
	if l == nil {
		return nil
	}
	return l.AttemptPaginatedResult
}
